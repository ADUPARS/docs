(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{418:function(t,s,e){"use strict";e.r(s);var a=e(9),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"typography-preview-with-local-fonts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#typography-preview-with-local-fonts","aria-hidden":"true"}},[t._v("#")]),t._v(" Typography Preview with Local Fonts")]),t._v(" "),e("p",[t._v("When specifying fonts used locally in your theme in the typography field's "),e("code",[t._v("fonts")]),t._v(" argument, the will not render in the\npreview field. We've included an undocumented workaround in the typography field to fix this minor oversight. For the\nrecord, 'undocumented' is another way of saying the functionality is offered as a courtesy. Officially, the feature is\nunsupported. If it works for you, great! If not, you'll have to wait until font uploading is officially supported (in\nthe future we will offer a custom font uploading feature for the typography field, which will solve this particular issue).")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Table of Contents")]),t._v(" "),e("p",[e("TOC",{class:"table-of-contents",attrs:{"list-type":"ul","include-level":[2,3]}},[e("template",{slot:"header"}),e("template",{slot:"footer"})],2)],1)]),t._v(" "),e("h2",{attrs:{id:"the-problem"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-problem","aria-hidden":"true"}},[t._v("#")]),t._v(" The Problem")]),t._v(" "),e("p",[t._v("Many theme developers use custom fonts for their themes. This is typically accomplished by specifying the font-face in\nthe theme's CSS. For this example, we will be using the 'Open Sans' font. (Yes, we're aware it's part of the Google\nfont's package. This is for example purposes only.)")]),t._v(" "),e("p",[t._v("Let's suppose a theme developer wants to use their own version of Open Sans in their theme. They would add the following\nlines to the theme's CSS:")]),t._v(" "),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token atrule"}},[e("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Open Sans"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 300"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("local")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Open Sans Light"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("local")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OpenSans-Light"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token url"}},[t._v('url("http://themes.googleusercontent.com/static/fonts/opensans/v6/DXI1ORHCpsQm3Vp6mXoaTXhCUOGz7vYGh680lGh-uXM.woff")')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"woff"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token atrule"}},[e("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Open Sans"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 700"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("local")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Open Sans Bold"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("local")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OpenSans-Bold"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token url"}},[t._v('url("http://themes.googleusercontent.com/static/fonts/opensans/v6/k3k702ZOKiLJc3WVjuplzHhCUOGz7vYGh680lGh-uXM.woff")')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"woff"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token atrule"}},[e("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Open Sans"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" italic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 400"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("local")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Open Sans Italic"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("local")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OpenSans-Italic"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token url"}},[t._v('url("http://themes.googleusercontent.com/static/fonts/opensans/v6/xjAJXh38I15wypJXxuGMBobN6UDyHWBl620a-IRfuBk.woff")')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"woff"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Let's also suppose this theme developer - in their typography field fonts argument specifies the following array.")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$fonts")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Open Sans,arial,helvatica'")]),t._v("             "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Open Sans'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Arial,helvetica,sans-serif'")]),t._v("            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Arial'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'helvetica,sans-serif,arial'")]),t._v("            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Helvatica'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'sans-serif,arial,helvatica'")]),t._v("            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Sans Serif'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'verdana,san-serif,helvatica'")]),t._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Verdana'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("When one selects Open Sans in the typography font family field, Open Sans will not render in the preview area. This is\nbecause the theme's CSS file is not loaded on the admin side of WordPress. Because of this, no reference to the theme's\nCSS specified fonts are available for Redux to render a proper preview.")]),t._v(" "),e("p",[t._v("One might then say, 'well, can't I just pass a reference to my theme's CSS to the typography field, so it'll be included\nin the admin page's HTML?' The answer is an emphatic "),e("strong",[t._v("NO!")]),t._v(" The theme's CSS, in most - if not all - cases\nwill cause the admin area to render improperly, creating a great big mess.")]),t._v(" "),e("p",[t._v("So how then can we coerce the typography field to render locally specified fonts?")]),t._v(" "),e("h2",{attrs:{id:"the-solution"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-solution","aria-hidden":"true"}},[t._v("#")]),t._v(" The Solution")]),t._v(" "),e("p",[t._v("This is where our undocumented typography argument comes into play. It's called "),e("code",[t._v("ext-font-css")]),t._v(", 'eternal font CSS' for\nshort. This argument may be used to pass a font specific CSS file to the typography field for proper reference and font\nrendering. Some additional steps are involved in successfully implementing this argument.")]),t._v(" "),e("ul",[e("li",[t._v("First, it will be necessary to create a new CSS file, which we'll call "),e("code",[t._v("fonts.css")]),t._v(". You can place this new CSS file\nwherever you like, as long as you remember where it's specified for a later step in this example. For our purposes,\nwe'll place it in the root folder of the theme. Inside this file, you will specific any and all local fonts you wish to\nuse with your theme, and that's all that goes into this file. Font declarations, and nothing else, like the font-face\nexample indicated above.")]),t._v(" "),e("li",[t._v("In the Redux config file for the typography field, add the following line into your typography arguments array:\n"),e("code",[t._v("'ext-font-css' => $theme_url . 'css/fonts.css'")]),t._v(". In this example, "),e("code",[t._v("$theme_url")]),t._v(" is a variable that holds the specific\nURL to your theme's folder. Specify this information however you see fit, as long as the value for this argument is a\nvalid path to your font.css file. Redux will take the URL to the CSS file, register and enqueue it into the Redux\noptions panel.")])]),t._v(" "),e("h3",{attrs:{id:"pretty-simple-eh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pretty-simple-eh","aria-hidden":"true"}},[t._v("#")]),t._v(" Pretty simple, eh?")]),t._v(" "),e("p",[t._v("If you choose to go this route, it's recommended to "),e("strong",[t._v("not")]),t._v(" repeat the font declarations in the theme's CSS file. Rather,\nregister and enqueue the font.css with the theme CSS. This gives the benefit of having any local fonts in the theme\navailable on both the front end and back end of your theme.")])])},[],!1,null,null,null);s.default=n.exports}}]);